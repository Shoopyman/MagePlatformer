extends Node2D

#Credit goes to https://www.youtube.com/watch?v=lhrqsUZ45j8&t=1302s


const in_edit_mode: bool = false
var current_level_name = "Forest_Boss1"

var fk_fall_time: float = 3.2
var fk_output_arr = [[], [], [], []]

var level_info = {
	"PROI_PROI" = {
		"fk_times": "[[4.77866678237915, 7.16800003051758, 9.23733310699463, 10.9440000534058, 13.0240009307861, 15.2640007019043, 16.4159992218018, 19.1999996185303, 19.9786670684814, 24.2133338928223, 25.9733341217041, 31.0826652526855, 32.1279991149902, 34.1759994506836, 35.5093315124512, 35.8826683044434, 36.223999786377, 36.5973327636719, 40.2026679992676, 41.9626663208008, 44.1066673278809, 45.333332824707, 46.5386665344238, 48.9173324584961, 49.9520004272461, 50.6880004882812, 51.4026649475098, 54.4959991455078, 56.0533340454102, 57.3973320007324, 59.9040000915527, 63.1679962158203, 65.0133331298828, 66.9333312988281, 69.83466796875, 71.9573333740234, 73.5040023803711, 75.0613296508789, 76.6186645507812, 78.0373352050781, 79.850666809082, 81.2160003662109, 82.8693359375, 84.1493347167969, 87.3813369750977, 88.6399963378906, 92.3413360595703, 94.8053329467773, 96.4800003051758, 97.1733367919922, 97.7706649780273, 98.6453369140625, 100.063999938965, 101.173336791992, 102.495999145508, 103.349331665039, 104.181332397461, 105.023999023438, 105.54666595459, 106.399998474121, 107.722668457031, 109.696003723145, 110.911999511719, 112.394665527344, 113.013333129883, 114.549336242676, 116.330670166016, 117.632000732422, 119.093334960938, 120.725331115723, 121.493336486816, 122.410664367676, 123.050663757324, 123.925335693359, 125.194668579102, 126.240002441406, 127.872006225586, 129.749340820313, 131.498669433594, 132.544003295898, 134.773327636719, 135.872006225586, 137.39733581543, 149.247998046875, 150.975994873047, 151.701336669922, 152.831997680664, 153.450665283203, 154.13332824707, 154.933331298828, 156.021328735352, 156.831997680664, 157.69599609375, 158.7306640625, 159.669338989258, 160.629330444336, 161.365338134766, 162.421337890625, 163.797329711914, 165.887997436523, 166.773327636719, 168.522671508789, 169.653332519531, 171.072003173828, 172.415997314453, 173.152005004883, 174.666668701172, 175.893338012695, 176.181332397461, 176.50133972168, 176.725338745117, 177.37600402832, 178.549328613281, 179.520001220703, 180.330670166016, 181.130673217773, 181.514660644531, 182.176007080078, 183.253338623047, 184.8, 186.453335571289, 188.22399597168, 189.045330810547, 190.495999145508, 192.415997314453, 196.266659545898, 197.83466796875, 200.34133605957, 202.335995483398, 203.818661499023, 204.853329467773, 205.738659667969, 206.538662719727, 208.138668823242, 209.653332519531, 211.18932800293, 212.768002319336, 214.837338256836, 216.490673828125, 217.919995117188, 220.586666870117, 224.554669189453, 226.485333251953], [5.50400047302246, 6.58133296966553, 8.66133289337158, 10.3786666870117, 12.4693334579468, 14.9546669006348, 16.1386669158936, 16.778666305542, 17.5786674499512, 18.5813339233398, 20.5973327636719, 23.893334197998, 25.5253341674805, 26.5493324279785, 27.274666595459, 31.0826652526855, 31.8293350219727, 33.0986679077148, 33.6213348388672, 37.7813346862793, 38.2293327331543, 38.826668548584, 39.1786659240723, 39.6800010681152, 40.6506660461426, 41.5253341674805, 42.3999984741211, 43.4453323364258, 43.6053321838379, 43.776001739502, 44.9279983520508, 46.1120002746582, 47.4986656188965, 49.1839988708496, 49.792000579834, 50.5173347473145, 51.2426651000977, 52.2346656799316, 52.7679985046387, 55.1680000305176, 57.1946647644043, 58.4746673583984, 59.5306671142578, 62.3253295898437, 64.3626678466797, 65.5040023803711, 66.4533355712891, 67.7226684570312, 68.9066665649414, 70.5386703491211, 71.5413330078125, 72.3733337402344, 73.2160003662109, 74.0906646728516, 74.8053329467773, 75.6906631469727, 76.4480026245117, 76.9493301391602, 77.6000030517578, 78.5493362426758, 79.3493316650391, 80.2453353881836, 80.885334777832, 81.7706649780273, 82.5493362426758, 83.2533309936523, 83.9679992675781, 84.4693344116211, 85.2693298339844, 85.6639984130859, 86.0480010986328, 86.4640014648437, 86.9653366088867, 87.7333343505859, 89.0559967041016, 91.8080032348633, 92.7786682128906, 93.7280014038086, 95.4240005493164, 96.0426681518555, 96.9813354492187, 97.5466659545898, 98.4320037841797, 98.9013336181641, 99.6479995727539, 100.394665527344, 100.927998352051, 102.165333557129, 103.072003173828, 103.946667480469, 104.8, 105.418667602539, 106.175999450684, 107.274670410156, 108.128002929688, 109.343998718262, 110.474667358398, 112.181332397461, 112.874668884277, 114.14400177002, 115.946667480469, 117.247998046875, 118.847996520996, 120.448002624512, 121.493336486816, 121.696003723145, 122.079998779297, 123.658665466309, 124.863995361328, 125.984005737305, 126.485333251953, 127.551998901367, 128.213330078125, 129.365338134766, 130.143994140625, 130.8693359375, 132.191998291016, 133.717327880859, 134.773327636719, 135.498669433594, 136.917340087891, 138.346661376953, 139.402661132813, 141.034664916992, 141.951992797852, 142.7306640625, 143.498669433594, 144.426663208008, 145.173336791992, 146.229336547852, 147.050671386719, 147.893338012695, 148.682659912109, 162.666668701172, 163.296002197266, 164.170666503906, 165.642666625977, 166.176007080078, 166.559994506836, 166.986660766602, 167.797329711914, 168.917340087891, 169.429333496094, 169.877331542969, 170.624005126953, 171.733334350586, 172.618664550781, 173.621334838867, 174.346661376953, 175.018673706055, 175.530667114258, 176.021328735352, 176.352001953125, 176.650662231445, 177.247998046875, 177.546673583984, 178.367993164063, 178.751995849609, 179.232006835938, 179.925335693359, 180.128002929688, 180.8, 181.674664306641, 182.325329589844, 183.050671386719, 183.615994262695, 184.373333740234, 185.344006347656, 186.048001098633, 186.997326660156, 187.893338012695, 189.173336791992, 189.97333984375, 190.975994873047, 191.882672119141, 192.970669555664, 194.250668334961, 196.650662231445, 197.418667602539, 198.538662719727, 199.893338012695, 200.768002319336, 201.83466796875, 202.688000488281, 203.541333007813, 204.565335083008, 205.141339111328, 206.27200012207, 206.794659423828, 207.872006225586, 208.383999633789, 209.290661621094, 210.069332885742, 210.837338256836, 211.573330688477, 212.415997314453, 213.184002685547, 214.29333190918, 215.296002197266, 216.138668823242, 216.842663574219, 217.39797668457, 218.250668334961, 220.042660522461, 221.141339111328, 221.706661987305, 222.677334594727, 223.285336303711, 223.90400390625, 225.962673950195, 227.658673095703, 228.277340698242], [], [5.95200042724609, 7.86133365631104, 9.79199962615967, 11.9573333740234, 13.5893333435059, 15.5733325958252, 16.0746658325195, 17.5786674499512, 19.4666660308838, 24.8960006713867, 31.0826652526855, 32.5760009765625, 34.5280006408691, 36.9599998474121, 37.4080017089844, 41.0453346252441, 42.8053329467773, 44.5013320922852, 45.6959999084473, 46.9653327941895, 47.9679992675781, 49.4186676025391, 50.2186668395996, 50.9866683959961, 51.7440002441406, 54.8480003356934, 56.9706657409668, 59.0293319702148, 61.3973358154297, 63.9146697998047, 66.0906646728516, 68.0639999389648, 71.0720031738281, 72.853337097168, 74.4426696777344, 76.0533340454102, 77.301335144043, 79.0720031738281, 80.5333297729492, 82.1866653442383, 83.5733306884766, 84.853337097168, 88.0533340454102, 90.0266693115234, 90.6239974975586, 91.3386657714844, 93.2053344726562, 95.6906631469727, 96.7573364257812, 97.4186676025391, 97.5466659545898, 98.1653335571289, 99.2000015258789, 100.65066986084, 101.802670288086, 102.815998840332, 103.701336669922, 104.469334411621, 105.301335144043, 105.994664001465, 106.794667053223, 108.501332092285, 110.101330566406, 111.999996948242, 112.757336425781, 113.461331176758, 113.781330871582, 115.093334960938, 116.778668212891, 118.399998474121, 120.05333404541, 121.098667907715, 122.7306640625, 123.381336975098, 124.224003601074, 125.621334838867, 126.965328979492, 128.821331787109, 130.495999145508, 131.786663818359, 133.002667236328, 135.093334960938, 136.266659545898, 137.83466796875, 150.048001098633, 151.32799987793, 152.50133972168, 153.152005004883, 153.770672607422, 154.495999145508, 155.44533996582, 156.330670166016, 157.301327514648, 158.069332885742, 159.125332641602, 160.170666503906, 161.002667236328, 161.97333984375, 162.922665405273, 164.597332763672, 165.25866394043, 166.357327270508, 167.381329345703, 169.173336791992, 170.27200012207, 172.117337036133, 172.863995361328, 173.930661010742, 175.199993896484, 177.002667236328, 178.079998779297, 179.072003173828, 179.914669799805, 180.693325805664, 181.802670288086, 182.464001464844, 182.880001831055, 183.882672119141, 185.69599609375, 187.370663452148, 189.439999389648, 191.423992919922, 193.653332519531, 197.045330810547, 199.44533996582, 201.184002685547, 203.221340942383, 204.266659545898, 205.450665283203, 206.016003417969, 207.498669433594, 208.746670532227, 210.464001464844, 211.967999267578, 213.919995117188, 215.722668457031, 217.141339111328, 219.285336303711, 225.077328491211, 227.093334960938]]
",
		"music": load("res://art/PLACEHOLDER/49. Proi Proi.wav")
	},
	"TEST_MUSIC" = {
		"fk_times": "[[-2.32539684772491, -0.54414958953857, 2.45301609039307, 4.04226760864258, 5.77018146514893, 7.30609970092773, 8.650022315979, 10.2926080703735, 11.7431972503662, 13.0444667816162, 14.2710655212402, 15.5616558074951, 17.1935832977295, 18.7934921264648, 20.1267574310303, 21.8226535797119, 23.0599315643311, 24.8198421478271, 26.5050800323486], [-1.8240816116333, -1.02412695884705, 0.2664626121521, 1.90904741287231, 2.85834484100342, 3.7756236076355, 4.4262583732605, 5.24755077362061, 6.30349235534668, 6.84746055603027, 7.57274417877197, 8.24471645355225, 9.1406572341919, 9.97263031005859, 10.6659181594849, 11.4765537261963, 12.0738552093506, 12.8097961425781, 13.5031059265137, 14.0150802612305, 14.5483901977539, 15.252335357666, 15.9136512756348, 16.6602714538574, 17.7162139892578, 18.2815196990967, 19.0068023681641, 19.6574371337891, 20.4573925018311, 21.5773475646973, 22.0679824829102, 22.8252838134766, 23.4545810699463, 24.3185260772705, 25.2784812927246, 26.1744220733643, 26.8250568389893], [], [-1.45077092647553, 0.87444429397583, 3.50895671844482, 4.91689376831055, 6.60213165283203, 7.77539710998535, 9.449977684021, 11.0178907394409, 12.2978227615356, 13.7057598114014, 14.9643543243408, 16.3082759857178, 18.0148532867432, 19.2414730072021, 20.9373691558838, 22.5692966461182, 23.9558723449707, 25.5984580993652, 27.2517002105713]]
",
		"music": load("res://Sound/Music/TEST_MUSIC.wav")
	},
	"Forest_Boss1" = {
		"fk_times": "[[11.9045808792114, 14.3804080963135, 16.9084804534912, 20.214421081543, 21.4102485656738, 22.4319274902344, 23.116915512085, 23.6277549743652, 24.4172332763672, 25.0790031433105, 26.5070293426514, 29.4211318969727, 31.5951011657715, 31.7547386169434, 31.9172790527344, 32.3758743286133, 32.8431747436523, 33.133423614502, 33.6239440917969, 34.0825393676758, 34.390202331543, 34.8487976074219, 35.3393180847168, 35.6382759094238, 36.1287963867187, 36.6106117248535, 36.9066665649414, 37.3652618408203, 37.8586853027344, 38.1779602050781, 38.6365516662598, 39.0835388183594, 39.4028099060059, 39.893334197998, 40.3519256591797, 40.6508834838867, 41.1414077758789, 41.5912940979004, 41.9105651855469, 42.9235389709473, 43.437279510498, 44.3863952636719, 45.6431739807129, 45.9653518676758, 46.2846267700195, 46.8070762634277, 47.2859848022461, 47.7242630004883, 48.1828582763672, 49.4628570556641, 50.6906135559082, 51.3291595458984, 51.9590003967285, 52.3218124389648, 52.9719741821289, 53.3231742858887, 53.6221321105957, 54.0923355102539, 54.4319274902344, 54.9021308898926, 55.5319717407227, 55.8309295654297, 56.1298873901367, 56.5884788513184, 57.5259864807129, 57.8771865844727, 61.621403503418, 61.9319732666016, 62.2425430297852, 62.3702514648437, 62.8288467407227, 63.6270263671875, 63.9375961303711, 65.1624496459961, 65.4933364868164, 65.8242156982422, 66.4337432861328, 66.8052642822266, 67.4031723022461, 67.7340591430664, 67.9894760131836, 68.6309326171875, 68.9385955810547, 69.2491577148437, 69.5800445556641, 70.0183227539062, 70.5088470458984, 70.9877517700195, 71.457958984375, 71.7888458251953, 72.3432205200195, 72.6624954223633, 75.6491592407227, 75.980046081543, 76.4589584350586, 76.7811325073242, 76.9175537109375, 77.3674362182617, 77.7070281982422, 77.9856689453125, 78.6474349975586, 78.9783218383789, 79.2656677246094, 79.8635833740234, 80.2147872924805, 80.5021331787109, 82.0607727050781, 82.336506652832, 82.6035354614258, 82.8705642700195, 83.1375930786133, 83.393017578125, 83.639729309082, 83.9038513183594, 84.1941040039062, 84.4814498901367, 84.7687957763672, 85.0474365234375, 85.3028533935547, 85.569889831543, 85.8572357177734, 86.1010406494141, 86.3680694580078, 86.6583221435547, 86.9137390136719, 87.1894805908203, 87.4245803833008, 87.6712921142578, 87.926708984375, 88.1821334838867, 88.4491622924805, 88.7365081787109, 88.983219909668, 89.2386367797852, 89.5056655883789, 89.7610900878906, 90.0281188964844, 90.271923828125, 90.5302474975586, 90.7856719970703, 91.0527008056641, 91.3081176757812, 91.575146484375, 91.8189590454102, 92.0859878540039, 92.3326995849609, 92.5881164550781, 92.8319290161133, 93.0902526855469, 93.3340576171875, 93.5894821166992, 93.868115234375, 94.1235397338867, 94.3702514648437, 94.6256683349609, 94.9014022827148, 95.1481216430664, 95.4238555908203, 95.6705673217773, 95.9375961303711, 96.1814086914062, 96.4281204223633, 96.7154663085937, 96.9824951171875, 97.2495239257812, 97.5368698120117, 97.7922866821289, 98.0477111816406, 98.3060348510742, 98.5614517211914, 98.8284805297852, 99.1158264160156, 99.4031723022461, 99.6585968017578, 99.9169128417969, 100.192654418945, 100.448071289063, 100.715100097656, 100.970524597168, 101.237553405762, 101.495869445801, 101.783222961426], [12.5663488388062, 13.794104385376, 19.3930156707764, 19.9154651641846, 20.4930618286133, 21.0677555084229, 21.5785949707031, 22.6031749725342, 22.9572780609131, 23.4565074920654, 24.3330619812012, 25.2270286560059, 25.5259864807129, 26.1674373626709, 26.797278213501, 27.3922908782959, 29.7287986755371, 30.8056228637695, 31.4586837768555, 32.0856254577637, 32.5355117797852, 32.9941032409668, 33.3133781433105, 33.7719734191895, 34.2305686950684, 34.5179145812988, 35.0084350585937, 35.4670303344727, 35.7892082214355, 36.3000457763672, 36.7586410522461, 37.0692070007324, 37.5161903381348, 38.0067108154297, 38.3172805786133, 38.7642639160156, 39.211247253418, 39.5740592956543, 40.0442626953125, 40.5028579711914, 40.8018157958984, 41.2720191955566, 41.7393196105957, 42.049885559082, 42.4214065551758, 42.7755096435547, 43.2979591369629, 43.7768714904785, 44.2151458740234, 44.5141036987305, 44.8653076171875, 45.2281196594238, 45.4632194519043, 45.7941024780273, 46.1133773803711, 46.6677558898926, 47.1147392272949, 47.5646255493164, 48.0232208251953, 48.5137413024902, 48.8214042663574, 49.1203620910645, 49.7705200195312, 50.0810897827148, 50.3916557312012, 50.9866683959961, 51.6484344482422, 52.4930618286133, 52.8007247924805, 53.4508827209473, 53.9414070129395, 55.0617683410645, 55.3926513671875, 55.9905670166016, 56.4288452148437, 56.9280708312988, 57.366349029541, 58.50703125, 58.8175971984863, 59.1252601623535, 59.575146484375, 59.874104309082, 60.1817672729492, 60.4604080200195, 61.6330154418945, 62.5182769775391, 62.9652603149414, 63.4673889160156, 64.3323333740234, 64.7154663085937, 65.3336990356445, 66.1347854614258, 66.9445770263672, 67.2435348510742, 68.1723373413086, 69.0779159545898, 69.4407241821289, 69.8906143188477, 70.3492095947266, 70.8165100097656, 71.3070266723633, 71.9165542602539, 72.1922882080078, 72.8656661987305, 73.0369155883789, 73.6551483154297, 73.9308822631836, 74.2530639648437, 74.5723388671875, 75.0193222045898, 75.3821304321289, 76.1512954711914, 76.6098831176758, 77.2165115356445, 77.8463485717773, 79.4572341918945, 80.0319259643555, 80.7053039550781, 81.4947860717773, 81.973698425293, 82.2523391723633, 82.4874389648437, 82.7747848510742, 83.0185974121094, 83.2856262207031, 83.5323379516602, 83.7877548217773, 84.0663955688477, 84.3740585327148, 84.6410873413086, 84.9081161499023, 85.2070739746094, 85.4944198608398, 85.7295272827148, 86.0052612304687, 86.2635848999023, 86.5393188476562, 86.80634765625, 87.0617721557617, 87.3288009643555, 87.5755126953125, 87.8309295654297, 88.0863464355469, 88.3417709350586, 88.6204116821289, 88.8874404907227, 89.1312454223633, 89.398274230957, 89.6536987304687, 89.9323318481445, 90.1877563476562, 90.4344680786133, 90.6898849487305, 90.9453094482422, 91.1891143798828, 91.4677551269531, 91.7144668579102, 91.9698837280273, 92.2456253051758, 92.501042175293, 92.74775390625, 93.0031784057617, 93.2498901367187, 93.5053070068359, 93.7607238769531, 94.0277526855469, 94.2831771850586, 94.5298889160156, 94.7969177246094, 95.0610397338867, 95.328076171875, 95.5863922119141, 95.8302047729492, 96.097233581543, 96.3526504516602, 96.6196792602539, 96.8867156982422, 97.1305206298828, 97.3888442993164, 97.6878021240234, 97.9432189941406, 98.1870315551758, 98.4743774414062, 98.7530181884766, 99.0084350585937, 99.2754638671875, 99.5424926757812, 99.8211334228516, 100.064945983887, 100.343579101563, 100.599003601074, 100.854420471191, 101.133061218262, 101.408795166016, 101.687435913086], [], [13.1845806121826, 15.6400897979736, 18.1333339691162, 19.6919734954834, 20.760090637207, 21.7498405456543, 22.7628124237061, 23.9383228302002, 24.2575958251953, 25.3779590606689, 25.8568714141846, 26.6347396850586, 26.933695602417, 28.1295230865479, 28.6316555023193, 29.0902488708496, 29.9000442504883, 30.187393951416, 30.4979598999023, 31.1161888122559, 32.2046249389648, 32.7067573547363, 33.4410865783691, 33.9112937927246, 34.6688430786133, 35.1796806335449, 35.9488418579102, 36.4596832275391, 37.1736953735352, 37.6961448669434, 38.4536979675293, 38.9239013671875, 39.7133796691895, 40.1603630065918, 40.9730613708496, 41.4316566467285, 42.2211349487305, 42.6042640686035, 43.0744674682617, 43.5736968994141, 44.0555084228516, 44.7056701660156, 45.068482208252, 45.3877532958984, 46.4558723449707, 46.9463928222656, 47.4049880981445, 47.8722885131836, 48.3541038513184, 48.6530616760254, 48.9607246398926, 49.2799995422363, 49.6021774291992, 49.9330604553223, 50.2320182800293, 50.5280731201172, 50.8502510070801, 51.1492050170898, 51.4684799194336, 51.7877548217773, 53.7730606079102, 56.2692077636719, 58.0165069580078, 58.3473937988281, 58.6579597473145, 58.9656227111816, 59.4561470031738, 59.6912467956543, 60.0221298217773, 60.3210876464844, 60.6316535949707, 61.6330154418945, 62.6779144287109, 63.1481216430664, 64.2684829711914, 65.0260284423828, 66.6049850463867, 67.8530624389648, 68.4800003051758, 69.7193649291992, 70.1779602050781, 70.6771896362305, 71.1473892211914, 71.6059844970703, 72.5028579711914, 73.1965530395508, 73.4722869873047, 74.0818145751953, 74.4127014160156, 74.7116516113281, 74.8800018310547, 75.1905639648437, 75.5214508056641, 78.1656234741211, 78.4877975463867, 79.0828140258789, 79.7126510620117, 80.3424957275391, 80.9926498413086, 81.9098403930664, 82.1768692016602, 82.4235809326172, 82.6993225097656, 82.9779556274414, 83.2130630493164, 83.4771850585937, 83.7355087280273, 84.0025375366211, 84.3102005004883, 84.5888412475586, 84.8558700561523, 85.1432235717773, 85.4189575195312, 85.6743743896484, 85.9414031982422, 86.1997268676758, 86.4638565063477, 86.742497253418, 86.9979141235352, 87.2649429321289, 87.5203598022461, 87.7757843017578, 88.0224960327148, 88.277912902832, 88.5449417114258, 88.8003662109375, 89.0673950195312, 89.334423828125, 89.5898406982422, 89.8568695068359, 90.1122940063477, 90.3677108764648, 90.6260345458984, 90.8814514160156, 91.1252639770508, 91.3835800170898, 91.6390045166016, 91.9147384643555, 92.1817672729492, 92.4284790039062, 92.683903503418, 92.9277084350586, 93.1947372436523, 93.4298446655273, 93.6852615356445, 93.9522903442383, 94.1990020751953, 94.4660308837891, 94.7098434448242, 94.9884841918945, 95.2439010620117, 95.4993179321289, 95.7663467407227, 96.0217712402344, 96.2684829711914, 96.5442169189453, 96.7909286499023, 97.0666702270508, 97.3249862670898, 97.5891159057617, 97.867756652832, 98.1231735229492, 98.390202331543, 98.6688430786133, 98.9445770263672, 99.2000015258789, 99.4670303344727, 99.7340591430664, 100.00108795166, 100.256504821777, 100.535145568848, 100.790570068359, 101.057598876953, 101.333332824707, 101.591656494141, 101.879002380371]]
",
		"music": load("res://Sound/Music/forestBoss.mp3")
	}
}


func _ready()->void:
	
	$MusicPlayer.stream=level_info.get(current_level_name).get("music")
	$MusicPlayer.play()
	
	if in_edit_mode:
		print("GOOD")
		Signals.KeyListenerPress.connect(KeyListenerPress)
	else:
		var fk_times = level_info.get(current_level_name).get("fk_times")
		var fk_times_arr = str_to_var(fk_times)
		print(fk_times_arr[0])
		
		var counter: int = 0
		for key in fk_times_arr:
			
			var button_name: String = ""
			match counter:
				0:
					button_name = "left"
				1: 
					button_name = "down"
				3:
					button_name = "right"
			
			for delay in key:
				SpawnFallingKey(button_name, delay)
			counter += 1

func KeyListenerPress(_button_name: String, array_num: int):
	print(str(array_num) + " " + str($MusicPlayer.get_playback_position()))
	fk_output_arr[array_num].append($MusicPlayer.get_playback_position() - fk_fall_time)

func SpawnFallingKey(button_name: String, delay: float):
	await get_tree().create_timer(delay).timeout
	Signals.CreateFallingKey.emit(button_name)


func _on_music_player_finished() -> void:
	if(in_edit_mode):
		print(fk_output_arr)
	else:
		get_tree().change_scene_to_file("res://Scenes/Main Menu/main_menu.tscn")
